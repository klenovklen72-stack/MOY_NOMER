<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bam 18+ есть?</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #8a2be2, #4b0082);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: white;
            text-align: center;
        }
        
        .container {
            max-width: 400px;
            width: 100%;
        }
        
        .girl-image {
            width: 220px;
            height: 220px;
            border-radius: 20px;
            object-fit: cover;
            margin-bottom: 25px;
            border: 4px solid #ff00ff;
            box-shadow: 0 12px 35px rgba(255, 0, 255, 0.5);
        }
        
        .title {
            font-size: 34px;
            font-weight: bold;
            margin-bottom: 30px;
            text-shadow: 2px 2px 6px rgba(0,0,0,0.6);
            line-height: 1.2;
        }
        
        .buttons {
            display: flex;
            flex-direction: column;
            gap: 18px;
            margin-bottom: 30px;
        }
        
        .btn {
            padding: 22px;
            border: none;
            border-radius: 15px;
            font-size: 22px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
        }
        
        .btn-yes {
            background: linear-gradient(135deg, #ff00ff, #8a2be2);
            color: white;
            box-shadow: 0 8px 25px rgba(255, 0, 255, 0.5);
        }
        
        .btn-yes:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(255, 0, 255, 0.7);
        }
        
        .btn-yes-alt {
            background: linear-gradient(135deg, #00ff00, #008000);
            color: white;
            box-shadow: 0 8px 25px rgba(0, 255, 0, 0.5);
        }
        
        .btn-yes-alt:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(0, 255, 0, 0.7);
        }
        
        .footer {
            margin-top: 25px;
            font-size: 13px;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.4;
        }
        
        .footer a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 8px 25px rgba(255, 0, 255, 0.5);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 12px 30px rgba(255, 0, 255, 0.7);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 8px 25px rgba(255, 0, 255, 0.5);
            }
        }
        
        .online-status {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-size: 14px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <img src="https://i.ibb.co/21pWtSZs/photo2.jpg" alt="Девушка" class="girl-image">
        
        <div class="title">Bam 18+ есть?</div>
        
        <div class="online-status">
            ✅ Сейчас онлайн: 247 девушек в твоем городе
        </div>
        
        <div class="buttons">
            <button class="btn btn-yes pulse" onclick="handleClick('yes1')">
                ДА
            </button>
            
            <button class="btn btn-yes-alt" onclick="handleClick('yes2')">
                Да
            </button>
        </div>
        
        <div class="footer">
            [YES]<br>
            Powered by <a href="#" onclick="handleClick('lite_link')">Lite.Link</a>
        </div>
    </div>

    <script>
        // Список партнерских программ для ротации
        const offers = [
            {
                name: 'offer1',
                url: 'https://tone.affomelody.com/click?pid=76975&offer_id=25'
            },
            {
                name: 'offer2', 
                url: 'https://v5t2mrb.delightful-weets.com/k7uhtye'
            }
        ];

        // Функция для получения случайного оффера
        function getRandomOffer() {
            const randomIndex = Math.floor(Math.random() * offers.length);
            return offers[randomIndex];
        }

        // Функция для получения оффера по ротации (50/50)
        function getRotatedOffer() {
            // Используем localStorage для ротации
            let lastOffer = localStorage.getItem('last_offer');
            let nextIndex = 0;
            
            if (lastOffer === 'offer1') {
                nextIndex = 1;
            } else if (lastOffer === 'offer2') {
                nextIndex = 0;
            } else {
                // Первый визит - случайный выбор
                nextIndex = Math.floor(Math.random() * offers.length);
            }
            
            const selectedOffer = offers[nextIndex];
            localStorage.setItem('last_offer', selectedOffer.name);
            return selectedOffer;
        }

        // Функция для получения оффера по гео (пример)
        function getGeoBasedOffer() {
            // Можно добавить логику определения гео
            // Пока используем простую ротацию
            return getRotatedOffer();
        }

        function handleClick(type) {
            // Получаем UTM-метки
            const urlParams = new URLSearchParams(window.location.search);
            const source = urlParams.get('utm_source') || 'direct';
            const medium = urlParams.get('utm_medium') || 'prelanding';
            const campaign = urlParams.get('utm_campaign') || 'bam18';
            
            // Выбираем оффер (можно менять стратегию)
            const selectedOffer = getRotatedOffer(); // Ротация 50/50
            // const selectedOffer = getRandomOffer(); // Случайный выбор
            // const selectedOffer = getGeoBasedOffer(); // По гео
            
            console.log('Selected offer:', selectedOffer.name);
            
            // Строим финальный URL
            let finalUrl = selectedOffer.url;
            
            // Добавляем UTM-метки если их еще нет в URL
            if (!finalUrl.includes('utm_source')) {
                finalUrl += (finalUrl.includes('?') ? '&' : '?') +
                           'utm_source=' + source +
                           '&utm_medium=' + medium +
                           '&utm_campaign=' + campaign;
            }
            
            // Добавляем тип клика
            finalUrl += '&button_type=' + type;
            
            // Добавляем метку оффера для аналитики
            finalUrl += '&offer_name=' + selectedOffer.name;
            
            // Перенаправляем
            window.location.href = finalUrl;
        }

        // Автоматическое перенаправление через 8 секунд
        setTimeout(() => {
            handleClick('auto_redirect');
        }, 8000);

        // Предзагрузка обоих офферов для ускорения
        document.addEventListener('DOMContentLoaded', function() {
            offers.forEach(offer => {
                const preloadLink = document.createElement('link');
                preloadLink.rel = 'preconnect';
                preloadLink.href = new URL(offer.url).origin;
                document.head.appendChild(preloadLink);
            });
        });
    </script>
</body>
</html>
